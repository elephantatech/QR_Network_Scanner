<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>QR Network Scanner - Help</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
            line-height: 1.6;
            color: #333;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
        }

        h1 {
            color: #007AFF;
            border-bottom: 2px solid #eee;
            padding-bottom: 10px;
        }

        h2 {
            color: #333;
            margin-top: 30px;
        }

        code {
            background: #f4f4f4;
            padding: 2px 5px;
            border-radius: 3px;
            font-family: monospace;
        }

        pre {
            background: #f4f4f4;
            padding: 15px;
            border-radius: 5px;
            overflow-x: auto;
        }

        .step {
            margin-bottom: 10px;
            font-weight: 500;
        }

        .note {
            background: #fff3cd;
            border-left: 5px solid #ffc107;
            padding: 15px;
            margin: 20px 0;
        }

        .success {
            color: #2e7d32;
        }

        .footer {
            margin-top: 50px;
            font-size: 0.9em;
            color: #666;
            border-top: 1px solid #eee;
            padding-top: 20px;
        }
    </style>
</head>

<body>

    <div style="text-align: center; margin-bottom: 20px;">
        <img src="icon.png" alt="QR Network Scanner Logo" width="96" height="96">
    </div>

    <h1>QR Network Scanner Help</h1>
    <p>Welcome to the QR Network Scanner documentation. This guide will help you use the application effectively and
        troubleshoot common issues.</p>

    <h2>GUI Mode (Visual Scanner)</h2>
    <p>The easiest way to use the app.</p>

    <div class="step">1. (Optional) Review Settings</div>
    <ul style="margin-top: 5px;">
        <li><strong>Confirm before connecting:</strong> When enabled, a dialog appears after scanning a code, showing
            the Network SSID and Security type. You must click "Yes" to proceed with the connection.</li>
        <li><strong>Add to settings only:</strong> When enabled, the network profile (SSID and Password) is saved to
            your macOS System Settings so you can connect manually later. The app will <strong>not</strong> attempt to
            switch your active WiFi connection immediately.</li>
    </ul>

    <div class="step">2. Start Scanning</div>
    <p>Select a tab:</p>
    <ul>
        <li><strong>Camera:</strong> Click <strong>Start Scanning</strong> to use your webcam.</li>
        <li><strong>Screen:</strong> Click <strong>Scan Screen</strong> to detect a QR code visible on your monitor.
        </li>
        <li><strong>File:</strong> Drag & Drop or click to select an image/PDF file.</li>
    </ul>

    <div class="step">3. Scan</div>
    <p>Follow the instructions for the selected tab. The app will automatically detect it.</p>

    <div class="step">4. Connect</div>
    <p>Unless "Add Only" is selected, the app will automatically switch your macOS WiFi connection to the new network.
    </p>

    <h2>CLI Mode (Terminal)</h2>
    <p>For advanced users. Run the CLI tool embedded in the app:</p>

    <pre><code>/Applications/QRNetworkScanner.app/Contents/MacOS/QRNetworkScanner scan [OPTIONS]</code></pre>

    <p><small>Or if running from source: <code>uv run qr-network scan</code></small></p>

    <h3>CLI Options:</h3>
    <ul>
        <li><code>list-cameras</code>: List all connected cameras and their IDs.</li>
        <li><code>--timeout &lt;SEC&gt;</code>: Set scan timeout (Default: 60s).</li>
        <li><code>--screen</code>: Scan from screen (-s).</li>
        <li><code>--file &lt;PATH&gt;</code>: Scan from image/PDF file (-f).</li>
        <li><code>--camera &lt;ID&gt;</code>: Select camera index.</li>
        <li><code>--verbose</code>: Enable detailed logs (-v).</li>
    </ul>

    <h3>âš¡ Setting up an Alias</h3>
    <p>To run the command as <code>qr-network</code> instead of the full path:</p>
    <ol>
        <li>Open the app and go to the <strong>Help</strong> menu (top bar).</li>
        <li>Select <strong>Install Alias to ~/.zshrc</strong> to add it automatically.</li>
        <li>Alternatively, select <strong>Copy CLI Alias</strong> to paste it manually into your config.</li>
        <li>Restart your terminal.</li>
    </ol>

    <h2>Security & Privacy</h2>
    <p>We take security seriously:</p>
    <ul>
        <li><strong>Keychain Storage:</strong> WiFi passwords are stored securely in the macOS System Keychain using
            native APIs.</li>
        <li><strong>Redacted Logs:</strong> All passwords and sensitive data are automatically masked (e.g.,
            <code>P:***;</code>) in application logs.
        </li>
        <li><strong>Open Source:</strong> The code is fully audit-able on GitHub.</li>
    </ul>

    <h2>Troubleshooting (FAQ)</h2>

    <h3>Camera Error / "Could not open camera"</h3>
    <p>This is usually a permission issue. macOS blocks camera access by default.</p>
    <ol>
        <li>Open the <strong>Help</strong> menu in the app.</li>
        <li>Select <strong>Check Permissions...</strong></li>
        <li>Follow the links to System Settings > Privacy & Security > Camera.</li>
        <li>Grant access to "QR Network Scanner" or your Terminal app.</li>
        <li><strong>Restart the app completely.</strong></li>
    </ol>

    <h3>Scanning but not detecting?</h3>
    <ul>
        <li>Ensure adequate lighting.</li>
        <li>Move the QR code closer or further away (aim for 10-20cm).</li>
        <li>Ensure the QR code is a valid WiFi QR code (starts with `WIFI:`).</li>
    </ul>

    <div class="footer">
        <p>Version 0.1.0-beta.17 | &copy; 2026 Elephanta Technologies</p>
    </div>

</body>

</html>
